{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\"use strict\";\n\nimport { getPhoto } from './pixabay-api';\nimport { form, imgGallery, gallery } from '../main';\n\nexport function symbolTemplate(objects) { \n    return objects\n        .map(object => `<li class = \"gallery-item\">\n         <a class=\"gallery-link\" href=\"${object.largeImageURL}\">\n         <img\n         class = \"gallery-image\"\n         src=\"${object.webformatURL}\" \n         alt=\"${object.tags}\" \n         width=\"1280\"\n         height=\"152\"\">\n           <ul class=\"gallery-description\">\n             <li>\n             <h3>Likes</h3>\n             <p>${object.likes}</p>\n             </li>\n             <li>\n             <h3>Views</h3>\n             <p>${object.views}\n             </p>\n             </li>\n             <li>\n             <h3>Comments</h3>\n             <p>${object.comments}</p>\n             </li>\n             <li>\n             <h3>Downloads</h3>\n             <p>${object.downloads}</p>\n             </li>\n             </ul>       \n         </li>`)\n      .join(\"\");\n};\n\n","\"use strict\";\n\nimport { symbolTemplate } from './render-functions';\nimport { form, gallery, userSearch } from '../main';\nimport axios from 'axios';\n\nexport async function getPhoto(userSearch) {\n    const url = \"https://pixabay.com/api/?key=\"; \n    const params = {\n        key: '43135550-1722255432324a30f15700264',\n        q: userSearch,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n    \n    const res = await axios.get(url, { params });\n    return res.data;\n} \n","\"use strict\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//* = = = =\n\nimport { getPhoto } from './js/pixabay-api'\nimport { symbolTemplate } from './js/render-functions';\n\nexport const form = document.querySelector('.search-form');\nexport const imgGallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.block');\nexport let userSearch; \n\nexport let gallery = new SimpleLightbox('.gallery a');\ngallery.on('show.simplelightbox', function () {\n\t// do somethingâ€¦\n});\n\ngallery.on('error.simplelightbox', function (e) {\n\tconsole.log(e); // some usefull information\n});\n\nform.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n    loader.classList.remove(\"hidden\");\n    userSearch = form.elements.query.value.trim();\n    if (userSearch === '') {\n         iziToast.error({\n        color: 'red',\n        position: 'topRight',\n        message: `Fill in the input!`,\n         });\n        loader.classList.add(\"hidden\");\n        imgGallery.innerHTML = \"\";\n    } else {\n        try {\n            const data = await getPhoto(userSearch)\n            if (data.total === 0) {\n                iziToast.error({\n                    color: 'red',\n                    position: 'topRight',\n                    message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n                });\n                e.target.reset();\n                loader.classList.add(\"hidden\");\n                imgGallery.innerHTML = \"\";\n            } else {\n                imgGallery.innerHTML = \"\";\n                const markup = symbolTemplate(data.hits);\n                imgGallery.insertAdjacentHTML(\"beforeend\", markup);\n                loader.classList.add(\"hidden\");\n                gallery.refresh();\n                e.target.reset();\n            }\n        } catch (error) {\n            iziToast.error({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: \"Sorry, a technical error has occurred!\",\n            });\n            loader.classList.add(\"hidden\");\n        }\n    }\n});\n\n"],"names":["symbolTemplate","objects","object","getPhoto","userSearch","url","params","axios","form","imgGallery","loader","gallery","SimpleLightbox","e","iziToast","data","markup"],"mappings":"owBAKO,SAASA,EAAeC,EAAS,CACpC,OAAOA,EACF,IAAIC,GAAU;AAAA,yCACkBA,EAAO,aAAa;AAAA;AAAA;AAAA,gBAG7CA,EAAO,YAAY;AAAA,gBACnBA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMTA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIZA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKZA,EAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,kBAIfA,EAAO,SAAS;AAAA;AAAA;AAAA,eAGnB,EACR,KAAK,EAAE,CACd,CC9BO,eAAeC,EAASC,EAAY,CACvC,MAAMC,EAAM,gCACNC,EAAS,CACX,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAGI,OADY,MAAMG,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAChC,IACf,CCPO,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,UAAU,EACrDC,EAAS,SAAS,cAAc,QAAQ,EACvC,IAAIN,EAEAO,EAAU,IAAIC,EAAe,YAAY,EACpDD,EAAQ,GAAG,sBAAuB,UAAY,CAE9C,CAAC,EAEDA,EAAQ,GAAG,uBAAwB,SAAUE,EAAG,CAC/C,QAAQ,IAAIA,CAAC,CACd,CAAC,EAEDL,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CAIvC,GAHAA,EAAE,eAAc,EAChBH,EAAO,UAAU,OAAO,QAAQ,EAChCN,EAAaI,EAAK,SAAS,MAAM,MAAM,KAAI,EACvCJ,IAAe,GACdU,EAAS,MAAM,CAChB,MAAO,MACP,SAAU,WACV,QAAS,oBACjB,CAAU,EACFJ,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAW,UAAY,OAEvB,IAAI,CACA,MAAMM,EAAO,MAAMZ,EAASC,CAAU,EACtC,GAAIW,EAAK,QAAU,EACfD,EAAS,MAAM,CACX,MAAO,MACP,SAAU,WACV,QAAS,4EAC7B,CAAiB,EACDD,EAAE,OAAO,QACTH,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAW,UAAY,OACpB,CACHA,EAAW,UAAY,GACvB,MAAMO,EAAShB,EAAee,EAAK,IAAI,EACvCN,EAAW,mBAAmB,YAAaO,CAAM,EACjDN,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAQ,QAAO,EACfE,EAAE,OAAO,OACZ,CACJ,MAAe,CACZC,EAAS,MAAM,CACX,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,wCACzB,CAAa,EACDJ,EAAO,UAAU,IAAI,QAAQ,CAChC,CAET,CAAC"}