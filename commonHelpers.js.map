{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\"use strict\";\n\nimport { getPhoto } from './pixabay-api';\nimport { form, imgGallery, gallery } from '../main';\n\nexport function symbolTemplate(objects) { \n    return objects\n        .map(object => `<li class = \"gallery-item\">\n         <a class=\"gallery-link\" href=\"${object.largeImageURL}\">\n         <img\n         class = \"gallery-image\"\n         src=\"${object.webformatURL}\" \n         alt=\"${object.tags}\" \n         width=\"1280\"\n         height=\"152\"\">\n           <ul class=\"gallery-description\">\n             <li>\n             <h3>Likes</h3>\n             <p>${object.likes}</p>\n             </li>\n             <li>\n             <h3>Views</h3>\n             <p>${object.views}\n             </p>\n             </li>\n             <li>\n             <h3>Comments</h3>\n             <p>${object.comments}</p>\n             </li>\n             <li>\n             <h3>Downloads</h3>\n             <p>${object.downloads}</p>\n             </li>\n             </ul>       \n         </li>`)\n      .join(\"\");\n};\n\n","\"use strict\";\n\nimport { symbolTemplate } from './render-functions';\nimport { form, gallery } from '../main';\nimport axios from 'axios';\n\nexport function getPhoto(userSearch) {\n    const key = '43135550-1722255432324a30f15700264';\n    const BASE_URL = \"https://pixabay.com\"; \n    const END_POINT = \"/api/?key=\"; \n    const params = new URLSearchParams({\n        q: userSearch,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    const url = `${BASE_URL}${END_POINT}${key}&${params}`;\n    \n     return axios.get(url).then(res => res.data); \n} \n\n\n// const form = document.querySelector('.search-form');\n// const gallery = document.querySelector('.gallery');\n\n// form.addEventListener(\"submit\", (e) => {\n//     e.preventDefault();\n//     const userSearch = form.elements.query.value;\n//     if (userSearch === '') {\n//          iziToast.error({\n//         color: 'red',\n//         position: 'topRight',\n//         message: `Будь ласка введіть дані!`,\n//       });\n//     } else {\n//         getPhoto(userSearch).then(data => {\n//             if (data.total === 0) {\n//                 iziToast.error({\n//                     color: 'red',\n//                     position: 'topRight',\n//                     message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n//                 });\n//             } else {\n//                 gallery.innerHTML = \"\";\n//                 const markup = symbolTemplate(data.hits);\n//                 gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n//                 const galleryBig = new SimpleLightbox('.gallery a', {\n//                     captionsData: 'alt',\n//                     captionDelay: 250,\n//                 });\n\n//             }\n//         });\n//     }\n//     e.target.reset();\n// });\n//!\n\n// function symbolTemplate(objects) { \n//     return objects\n//         .map(object => `<li class = \"gallery-item\">\n//          <a class=\"gallery-link\" href=\"${object.largeImageURL}\">\n//          <img\n//          class = \"gallery-image\"\n//          src=\"${object.webformatURL}\" \n//          alt=\"${object.tags}\" \n//          width=\"1280\"\n//          height=\"152\"\">\n//            <ul class=\"gallery-description\">\n//              <li>\n//              <h3>Likes</h3>\n//              <p>${object.likes}</p>\n//              </li>\n//              <li>\n//              <h3>Views</h3>\n//              <p>${object.views}\n//              </p>\n//              </li>\n//              <li>\n//              <h3>Comments</h3>\n//              <p>${object.comments}</p>\n//              </li>\n//              <li>\n//              <h3>Downloads</h3>\n//              <p>${object.downloads}</p>\n//              </li>\n//              </ul>       \n//          </li>`)\n//         .join(\"\");\n// };\n\n","\"use strict\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//* = = = =\n\nimport { getPhoto } from './js/pixabay-api'\nimport { symbolTemplate } from './js/render-functions';\n\nexport const form = document.querySelector('.search-form');\nexport const imgGallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.block');\n\nexport let gallery = new SimpleLightbox('.gallery a');\ngallery.on('show.simplelightbox', function () {\n\t// do something…\n});\n\ngallery.on('error.simplelightbox', function (e) {\n\tconsole.log(e); // some usefull information\n});\n\nform.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    loader.classList.remove(\"hidden\");\n    const userSearch = form.elements.query.value.trim();\n    imgGallery.innerHTML = '<div class=\"loader\"></div>';\n\n    if (userSearch === '') {\n         iziToast.error({\n        color: 'red',\n        position: 'topRight',\n        message: `Fill in the input!`,\n         });\n        loader.classList.add(\"hidden\");\n    } else {\n        try { const data = await getPhoto(userSearch)\n            if (data.total === 0) {\n                iziToast.error({\n                    color: 'red',\n                    position: 'topRight',\n                    message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n                });\n                e.target.reset();\n                loader.classList.add(\"hidden\");\n            } else {\n                addImg();\n                const markup = symbolTemplate(data.hits);\n                console.log(markup);\n                imgGallery.insertAdjacentHTML(\"beforeend\", markup);\n                gallery.refresh();\n                e.target.reset();\n                loader.classList.add(\"hidden\");\n            }\n        } catch (error) {\n            iziToast.error({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: \"Sorry, a technical error has occurred!\",\n            });\n            loader.classList.add(\"hidden\");\n        }\n    }\n     imgGallery.innerHTML = \"\";\n});\n\n\n// form.addEventListener(\"submit\", (e) => {\n//     e.preventDefault();\n//     loader.classList.remove(\"hidden\");\n//     const userSearch = form.elements.query.value.trim();\n//     imgGallery.innerHTML = '<div class=\"loader\"></div>';\n\n//     if (userSearch === '') {\n//          iziToast.error({\n//         color: 'red',\n//         position: 'topRight',\n//         message: `Fill in the input!`,\n//          });\n//         loader.classList.add(\"hidden\");\n//     } else {\n//         getPhoto(userSearch).then(data => {\n//             if (data.total === 0) {\n//                 iziToast.error({\n//                     color: 'red',\n//                     position: 'topRight',\n//                     message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n//                 });\n//                 e.target.reset();\n//                 loader.classList.add(\"hidden\");\n//             } else {\n//                 const markup = symbolTemplate(data.hits);\n//                 console.log(markup);\n//                 imgGallery.insertAdjacentHTML(\"beforeend\", markup);\n//                 gallery.refresh();\n//                 e.target.reset();\n//                 loader.classList.add(\"hidden\");\n//             }\n//         })\n//         .catch(error => {\n//             iziToast.error({\n//                 maxWidth: '432px',\n//                 height: '48px',\n//                 color: 'red',\n//                 position: 'topRight',\n//                 message: \"Sorry, a technical error has occurred!\",\n//             });\n//             loader.classList.add(\"hidden\");\n//         });\n//     }\n//      imgGallery.innerHTML = \"\";\n// });\n\n"],"names":["symbolTemplate","objects","object","getPhoto","userSearch","key","BASE_URL","END_POINT","params","url","axios","res","form","imgGallery","loader","gallery","SimpleLightbox","e","iziToast","data","markup"],"mappings":"owBAKO,SAASA,EAAeC,EAAS,CACpC,OAAOA,EACF,IAAIC,GAAU;AAAA,yCACkBA,EAAO,aAAa;AAAA;AAAA;AAAA,gBAG7CA,EAAO,YAAY;AAAA,gBACnBA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMTA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIZA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKZA,EAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,kBAIfA,EAAO,SAAS;AAAA;AAAA;AAAA,eAGnB,EACR,KAAK,EAAE,CACd,CC9BO,SAASC,EAASC,EAAY,CACjC,MAAMC,EAAM,qCACNC,EAAW,sBACXC,EAAY,aACZC,EAAS,IAAI,gBAAgB,CAC/B,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKK,EAAM,GAAGH,CAAQ,GAAGC,CAAS,GAAGF,CAAG,IAAIG,CAAM,GAElD,OAAOE,EAAM,IAAID,CAAG,EAAE,KAAKE,GAAOA,EAAI,IAAI,CAC/C,CAsCA;AC/CO,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,UAAU,EACrDC,EAAS,SAAS,cAAc,QAAQ,EAEvC,IAAIC,EAAU,IAAIC,EAAe,YAAY,EACpDD,EAAQ,GAAG,sBAAuB,UAAY,CAE9C,CAAC,EAEDA,EAAQ,GAAG,uBAAwB,SAAUE,EAAG,CAC/C,QAAQ,IAAIA,CAAC,CACd,CAAC,EAEDL,EAAK,iBAAiB,SAAU,MAAOK,GAAM,CACzCA,EAAE,eAAc,EAChBH,EAAO,UAAU,OAAO,QAAQ,EAChC,MAAMV,EAAaQ,EAAK,SAAS,MAAM,MAAM,OAG7C,GAFAC,EAAW,UAAY,6BAEnBT,IAAe,GACdc,EAAS,MAAM,CAChB,MAAO,MACP,SAAU,WACV,QAAS,oBACjB,CAAU,EACFJ,EAAO,UAAU,IAAI,QAAQ,MAE7B,IAAI,CAAE,MAAMK,EAAO,MAAMhB,EAASC,CAAU,EACxC,GAAIe,EAAK,QAAU,EACfD,EAAS,MAAM,CACX,MAAO,MACP,SAAU,WACV,QAAS,4EAC7B,CAAiB,EACDD,EAAE,OAAO,QACTH,EAAO,UAAU,IAAI,QAAQ,MAC1B,CACH,SACA,MAAMM,EAASpB,EAAemB,EAAK,IAAI,EACvC,QAAQ,IAAIC,CAAM,EAClBP,EAAW,mBAAmB,YAAaO,CAAM,EACjDL,EAAQ,QAAO,EACfE,EAAE,OAAO,QACTH,EAAO,UAAU,IAAI,QAAQ,CAChC,CACJ,MAAe,CACZI,EAAS,MAAM,CACX,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,wCACzB,CAAa,EACDJ,EAAO,UAAU,IAAI,QAAQ,CAChC,CAEJD,EAAW,UAAY,EAC5B,CAAC"}